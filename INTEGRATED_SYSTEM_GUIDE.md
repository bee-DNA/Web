# 🌍 整合世界地圖 & 天氣系統使用指南

## 📋 系統概述

這個整合系統將原始的世界地圖應用與全球天氣監測功能完美結合，提供兩種強大的資料視覺化模式：

### 🏛️ 模式一：世界國家統計資料

- 📊 **人口分布地圖**: 視覺化全球人口分布
- 💰 **GDP 分布地圖**: 展示各國經濟實力
- 🎨 **多種色彩主題**: 藍色系、紅色系、綠色系、彩虹色
- 📈 **統計摘要**: 即時計算總人口、總 GDP、平均值等

### 🌦️ 模式二：全球天氣監測

- 🌍 **18 個主要城市**: 覆蓋亞洲、歐洲、美洲、大洋洲、非洲
- 🌡️ **多元氣象資料**: 溫度、濕度、風速、氣壓、雲量、能見度
- 🗺️ **地區篩選**: 可按洲際分別查看
- ⏰ **即時更新**: 每 2 小時自動更新 + 手動刷新功能

## 🚀 快速啟動

### 方法一：使用啟動腳本 (推薦)

```batch
start_integrated_map.bat
```

### 方法二：直接執行 Python

```bash
python integrated_world_weather_map.py
# 訪問: http://localhost:8050/
```

## 🎮 功能操作指南

### 🔄 模式切換

1. 在頁面頂部找到 **"地圖模式"** 選項
2. 選擇 **"📊 國家統計資料"** 或 **"🌦️ 全球天氣監測"**
3. 系統會自動切換相應的控制面板和地圖顯示

### 📊 國家統計模式操作

#### 🎯 基本控制

- **資料類型**: 選擇查看 "人口數量" 或 "GDP"
- **色彩主題**: 選擇地圖配色方案
- **地圖互動**: 滑鼠懸停查看詳細資訊

#### 📈 統計資訊

系統會自動顯示：

- 📊 **國家數量**: 資料庫中的國家總數
- 👥 **總人口**: 所有國家人口總和
- 💰 **總 GDP**: 所有國家 GDP 總和
- 📊 **平均 GDP**: 各國 GDP 平均值

### 🌦️ 天氣監測模式操作

#### 🌏 地區控制

- **地區篩選**:
  - 🌏 全部地區 (18 個城市)
  - 🏯 亞洲 (台北、東京、首爾、北京、香港、新加坡、孟買)
  - 🏰 歐洲 (倫敦、巴黎、柏林、羅馬、莫斯科)
  - 🗽 美洲 (紐約、洛杉磯、聖保羅)
  - 🦘 大洋洲 (雪梨)
  - 🦁 非洲 (開普敦、開羅)

#### 🌡️ 天氣顯示選項

- **🌡️ 溫度**: 以顏色深淺表示溫度高低
- **💧 濕度**: 顯示相對濕度百分比
- **💨 風速**: 展示風速強度
- **☁️ 雲量**: 顯示雲層覆蓋百分比

#### 🔄 資料更新

- **自動更新**: 系統每 2 小時自動獲取最新天氣資料
- **手動更新**: 點擊 "🔄 手動更新天氣" 按鈕立即刷新
- **更新狀態**: 頁面顯示最後更新時間

### 📊 互動功能

#### 🗺️ 地圖互動

- **縮放**: 使用滑鼠滾輪或觸控板縮放地圖
- **拖拽**: 拖拽地圖查看不同區域
- **懸停**: 滑鼠懸停在標記上查看詳細資訊
- **點擊**: 點擊標記獲得彈出詳細資訊

#### 📋 資料表功能

- **排序**: 點擊欄位標題進行升序/降序排序
- **篩選**: 在欄位下方輸入框中輸入關鍵字篩選
- **分頁**: 使用底部分頁控制瀏覽大量資料

## 🌟 監測城市列表

### 🏯 亞洲地區 (7 個城市)

| 城市   | 國家   | 經緯度          |
| ------ | ------ | --------------- |
| 台北   | 台灣   | 25.0°N, 121.6°E |
| 東京   | 日本   | 35.7°N, 139.7°E |
| 首爾   | 南韓   | 37.6°N, 126.9°E |
| 北京   | 中國   | 39.9°N, 116.4°E |
| 香港   | 香港   | 22.3°N, 114.2°E |
| 新加坡 | 新加坡 | 1.4°N, 103.8°E  |
| 孟買   | 印度   | 19.1°N, 72.9°E  |

### 🏰 歐洲地區 (5 個城市)

| 城市   | 國家   | 經緯度         |
| ------ | ------ | -------------- |
| 倫敦   | 英國   | 51.5°N, 0.1°W  |
| 巴黎   | 法國   | 48.9°N, 2.4°E  |
| 柏林   | 德國   | 52.5°N, 13.4°E |
| 羅馬   | 意大利 | 41.9°N, 12.5°E |
| 莫斯科 | 俄羅斯 | 55.8°N, 37.6°E |

### 🗽 美洲地區 (3 個城市)

| 城市   | 國家 | 經緯度          |
| ------ | ---- | --------------- |
| 紐約   | 美國 | 40.7°N, 74.0°W  |
| 洛杉磯 | 美國 | 34.1°N, 118.2°W |
| 聖保羅 | 巴西 | 23.6°S, 46.6°W  |

### 🦘 大洋洲地區 (1 個城市)

| 城市 | 國家 | 經緯度          |
| ---- | ---- | --------------- |
| 雪梨 | 澳洲 | 33.9°S, 151.2°E |

### 🦁 非洲地區 (2 個城市)

| 城市   | 國家 | 經緯度         |
| ------ | ---- | -------------- |
| 開普敦 | 南非 | 34.0°S, 18.4°E |
| 開羅   | 埃及 | 30.0°N, 31.2°E |

## 📊 氣象資料詳解

### 🌡️ 溫度資料

- **溫度**: 當前氣溫 (攝氏度)
- **體感溫度**: 考慮濕度和風速的體感溫度
- **顯示範圍**: 通常 -20°C 到 45°C
- **顏色編碼**: 藍色(低溫) → 紅色(高溫)

### 💧 濕度資料

- **相對濕度**: 空氣中水汽含量百分比
- **範圍**: 0% - 100%
- **舒適範圍**: 40% - 60%

### 💨 風力資料

- **風速**: 以公尺/秒 (m/s) 為單位
- **風向**: 以度數表示 (0° = 北風)
- **蒲福風級對照**:
  - 0-0.2 m/s: 無風
  - 0.3-1.5 m/s: 軟風
  - 1.6-3.3 m/s: 輕風
  - 3.4-5.4 m/s: 微風

### ☁️ 雲量資料

- **雲量**: 天空被雲層覆蓋的百分比
- **範圍**: 0% (晴空) - 100% (完全覆蓋)
- **等級**:
  - 0-25%: 晴朗
  - 26-50%: 少雲
  - 51-75%: 多雲
  - 76-100%: 陰天

### 📊 氣壓資料

- **大氣壓力**: 以百帕 (hPa) 為單位
- **正常範圍**: 980-1040 hPa
- **標準氣壓**: 1013.25 hPa (海平面)

## 🔧 技術特色

### 🎨 使用者介面

- **響應式設計**: 自適應不同螢幕尺寸
- **直觀控制**: 易於理解的控制面板
- **即時回饋**: 操作立即反映在地圖上
- **美觀設計**: 現代化的視覺風格

### ⚡ 效能優化

- **快取機制**: 減少不必要的 API 請求
- **背景更新**: 不影響使用者操作的資料更新
- **錯誤處理**: 完善的異常處理和重試機制
- **資料壓縮**: 優化資料傳輸效率

### 🌐 API 整合

- **OpenWeather API**: 提供準確的全球天氣資料
- **多線程處理**: 並發獲取多個城市資料
- **資料驗證**: 確保資料品質和完整性

## 🚨 故障排除

### 常見問題及解決方案

#### ❓ 系統無法啟動

```bash
# 檢查 Python 版本
python --version

# 安裝必要套件
pip install dash plotly pandas requests numpy

# 重新啟動
python integrated_world_weather_map.py
```

#### ❓ 天氣資料無法載入

1. 檢查網路連接
2. 驗證 API 金鑰是否有效
3. 點擊 "手動更新天氣" 重新嘗試

#### ❓ 地圖顯示異常

1. 清除瀏覽器快取
2. 重新整理頁面 (F5)
3. 檢查瀏覽器控制台錯誤訊息

#### ❓ 效能問題

1. 關閉其他占用資源的應用程式
2. 使用較新版本的瀏覽器
3. 減少同時開啟的分頁數量

## 📈 未來擴展

### 🔮 計劃功能

- 📊 **歷史資料分析**: 查看氣候變化趨勢
- 🌪️ **災害預警**: 颱風、暴雨等極端天氣預警
- 📱 **行動應用**: 開發手機 App 版本
- 🤖 **AI 預測**: 機器學習天氣預測模型

### 🎯 技術改進

- 🚀 **WebSocket**: 即時資料推送
- 🗺️ **3D 地圖**: 立體地形顯示
- 📊 **更多視覺化**: 增加圖表類型
- 🔄 **離線模式**: 離線資料瀏覽

---

## 🏆 結語

這個整合世界地圖 & 天氣系統成功結合了地理資訊系統 (GIS) 和即時資料監測技術，為科學大數據專題提供了一個完整的解決方案。

### ✅ 系統優勢

- 🎯 **功能完整**: 涵蓋國家統計和天氣監測
- 🌍 **全球覆蓋**: 世界各洲主要城市
- 📊 **資料豐富**: 多維度氣象和統計資訊
- 🎨 **介面友善**: 直觀易用的操作介面
- ⚡ **效能優良**: 快速響應和更新

### 🎓 學術價值

這個專案展示了現代資料科學和 Web 技術的完美結合，適合作為：

- 📚 大數據處理教學案例
- 🌐 GIS 應用開發參考
- 💻 全端開發學習材料
- 📊 資料視覺化最佳實踐

---

_系統版本：v2.0 整合版_  
_更新日期：2025 年 9 月 26 日_  
_開發：科學大數據專題課程_
